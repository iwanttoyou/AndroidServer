<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" " http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="android.canteen.dao.Interface.StudentMapper">
    <insert id="insertOneByList" parameterType="student">
        INSERT INTO student (number, name, telephone, address)
        VALUES
            <foreach collection="list" item="item" separator=",">
                (#{item.number}, #{item.name}, #{item.telephone}, #{item.address})
            </foreach>
    </insert>

    <delete id="deleteOneById" parameterType="int">
        DELETE FROM student WHERE id = #{id}
    </delete>

    <delete id="deleteOneByList" parameterType="int">
        DELETE FROM student
        WHERE IN
            <foreach collection="list" item="item" separator="," open="(" close=")">
                #{item.id}
            </foreach>
    </delete>

    <update id="updatePassword">
        UPDATE student SET password = #{password} WHERE id = #{id}
    </update>

    <update id="updateMoney">
        UPDATE student SET money = #{money} WHERE id = #{id}
    </update>

    <update id="updatePerson" parameterType="student">
        UPDATE student SET name = #{name}, telephone = #{telephone}, address = #{address} WHERE id = #{id}
    </update>

    <select id="queryOneById" parameterType="int" resultType="student">
        SELECT id, number, name, password, telephone, address, stack FROM student WHERE id = #{id}
    </select>

    <select id="queryAll" resultType="student">
        SELECT id, number, name, password, telephone, address, stack FROM student
    </select>

</mapper>
